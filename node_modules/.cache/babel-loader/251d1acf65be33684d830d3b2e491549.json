{"ast":null,"code":"var _jsxFileName = \"/Users/javiercosio/Documents/ITC/tweet-react-project/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport \"../App.css\";\nimport { useHistory } from \"react-router-dom\";\nimport AppContext from \"../context/AppContext\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const appContext = useContext(AppContext);\n  const history = useHistory();\n  const [formData, setFormData] = useState({});\n  const [isFormComplete, setIsFormComplete] = useState(false);\n\n  const handleChangeUserLogin = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setFormData({ ...formData,\n      [name]: value\n    });\n  };\n\n  const handleChangePassLogin = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setFormData({ ...formData,\n      [name]: value\n    });\n  };\n\n  useEffect(() => {\n    console.log(formData);\n  }, [formData]);\n  useEffect(() => {\n    if (formData.email && formData.password) {\n      setIsFormComplete(true);\n    } else {\n      setIsFormComplete(false);\n    }\n  }, [formData]);\n\n  const handleLoginSubmit = () => {\n    firebase.auth().signInWithEmailAndPassword(formData.email, formData.password).then(userCredential => {\n      // Signed in\n      const user = userCredential.user;\n      const dbRef = firebase.database().ref();\n      dbRef.child(\"users\").child(user.uid).get().then(snapshot => {\n        if (snapshot.exists()) {\n          appContext.setUser(snapshot.val());\n          setRedirect(\"/\");\n        } else {\n          console.log(\"No data available\");\n        }\n      }).catch(error => {\n        console.error(error);\n      }); // ...\n    }).catch(error => {\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      console.log(errorCode, errorMessage);\n    });\n    appContext.setUserInputFilled(false);\n    let path = \"/\";\n    history.push(path);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-left\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-title\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-subtitle\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"profile-input\",\n          type: \"text\",\n          name: `email`,\n          onChange: handleChangeUserLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-subtitle\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"profile-input\",\n          type: \"password\",\n          name: `password`,\n          onChange: handleChangePassLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-button-cotainer\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: !isFormComplete,\n          className: `submit-button-${!isFormComplete}`,\n          onClick: handleLoginSubmit,\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-right\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"QauQmXrcNcFzL1Z76i9F6Nuz6KU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/javiercosio/Documents/ITC/tweet-react-project/src/components/Login.js"],"names":["useHistory","AppContext","useContext","useState","useEffect","Login","appContext","history","formData","setFormData","isFormComplete","setIsFormComplete","handleChangeUserLogin","e","name","target","value","handleChangePassLogin","console","log","email","password","handleLoginSubmit","firebase","auth","signInWithEmailAndPassword","then","userCredential","user","dbRef","database","ref","child","uid","get","snapshot","exists","setUser","val","setRedirect","catch","error","errorCode","code","errorMessage","message","setUserInputFilled","path","push"],"mappings":";;;AAAA,OAAO,YAAP;AACA,SAASA,UAAT,QAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,SAASC,UAAT,EAAqBC,QAArB,EAA+BC,SAA/B,QAAgD,OAAhD;;;AAEA,SAASC,KAAT,GAAiB;AAAA;;AACf,QAAMC,UAAU,GAAGJ,UAAU,CAACD,UAAD,CAA7B;AACA,QAAMM,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACO,cAAD,EAAiBC,iBAAjB,IAAsCR,QAAQ,CAAC,KAAD,CAApD;;AAEA,QAAMS,qBAAqB,GAAIC,CAAD,IAAO;AACnC,UAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASD,IAAtB;AACA,UAAME,KAAK,GAAGH,CAAC,CAACE,MAAF,CAASC,KAAvB;AACAP,IAAAA,WAAW,CAAC,EAAE,GAAGD,QAAL;AAAe,OAACM,IAAD,GAAQE;AAAvB,KAAD,CAAX;AACD,GAJD;;AAMA,QAAMC,qBAAqB,GAAIJ,CAAD,IAAO;AACnC,UAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASD,IAAtB;AACA,UAAME,KAAK,GAAGH,CAAC,CAACE,MAAF,CAASC,KAAvB;AACAP,IAAAA,WAAW,CAAC,EAAE,GAAGD,QAAL;AAAe,OAACM,IAAD,GAAQE;AAAvB,KAAD,CAAX;AACD,GAJD;;AAMAZ,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,OAAO,CAACC,GAAR,CAAYX,QAAZ;AACD,GAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;AAIAJ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAII,QAAQ,CAACY,KAAT,IAAkBZ,QAAQ,CAACa,QAA/B,EAAyC;AACvCV,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD,KAFD,MAEO;AACLA,MAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACD;AACF,GANQ,EAMN,CAACH,QAAD,CANM,CAAT;;AAQA,QAAMc,iBAAiB,GAAG,MAAM;AAC9BC,IAAAA,QAAQ,CACLC,IADH,GAEGC,0BAFH,CAE8BjB,QAAQ,CAACY,KAFvC,EAE8CZ,QAAQ,CAACa,QAFvD,EAGGK,IAHH,CAGSC,cAAD,IAAoB;AACxB;AACA,YAAMC,IAAI,GAAGD,cAAc,CAACC,IAA5B;AACA,YAAMC,KAAK,GAAGN,QAAQ,CAACO,QAAT,GAAoBC,GAApB,EAAd;AACAF,MAAAA,KAAK,CACFG,KADH,CACS,OADT,EAEGA,KAFH,CAESJ,IAAI,CAACK,GAFd,EAGGC,GAHH,GAIGR,IAJH,CAISS,QAAD,IAAc;AAClB,YAAIA,QAAQ,CAACC,MAAT,EAAJ,EAAuB;AACrB9B,UAAAA,UAAU,CAAC+B,OAAX,CAAmBF,QAAQ,CAACG,GAAT,EAAnB;AACAC,UAAAA,WAAW,CAAC,GAAD,CAAX;AACD,SAHD,MAGO;AACLrB,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD;AACF,OAXH,EAYGqB,KAZH,CAYUC,KAAD,IAAW;AAChBvB,QAAAA,OAAO,CAACuB,KAAR,CAAcA,KAAd;AACD,OAdH,EAJwB,CAmBxB;AACD,KAvBH,EAwBGD,KAxBH,CAwBUC,KAAD,IAAW;AAChB,UAAIC,SAAS,GAAGD,KAAK,CAACE,IAAtB;AACA,UAAIC,YAAY,GAAGH,KAAK,CAACI,OAAzB;AACA3B,MAAAA,OAAO,CAACC,GAAR,CAAYuB,SAAZ,EAAuBE,YAAvB;AACD,KA5BH;AA8BAtC,IAAAA,UAAU,CAACwC,kBAAX,CAA8B,KAA9B;AACA,QAAIC,IAAI,GAAG,GAAX;AACAxC,IAAAA,OAAO,CAACyC,IAAR,CAAaD,IAAb;AACD,GAlCD;;AAoCA,sBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAA,+BACE;AACE,UAAA,SAAS,EAAC,eADZ;AAEE,UAAA,IAAI,EAAC,MAFP;AAGE,UAAA,IAAI,EAAG,OAHT;AAIE,UAAA,QAAQ,EAAEnC;AAJZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAHF,eAWE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXF,eAYE;AAAA,+BACE;AACE,UAAA,SAAS,EAAC,eADZ;AAEE,UAAA,IAAI,EAAC,UAFP;AAGE,UAAA,IAAI,EAAG,UAHT;AAIE,UAAA,QAAQ,EAAEK;AAJZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAZF,eAoBE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA,+BACE;AACE,UAAA,QAAQ,EAAE,CAACP,cADb;AAEE,UAAA,SAAS,EAAG,iBAAgB,CAACA,cAAe,EAF9C;AAGE,UAAA,OAAO,EAAEY,iBAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cApBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAgCE;AAAK,MAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,YAhCF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoCD;;GAtGQjB,K;UAESL,U;;;KAFTK,K;AAwGT,eAAeA,KAAf","sourcesContent":["import \"../App.css\";\nimport { useHistory } from \"react-router-dom\";\nimport AppContext from \"../context/AppContext\";\nimport { useContext, useState, useEffect } from \"react\";\n\nfunction Login() {\n  const appContext = useContext(AppContext);\n  const history = useHistory();\n  const [formData, setFormData] = useState({});\n  const [isFormComplete, setIsFormComplete] = useState(false);\n\n  const handleChangeUserLogin = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleChangePassLogin = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  useEffect(() => {\n    console.log(formData);\n  }, [formData]);\n\n  useEffect(() => {\n    if (formData.email && formData.password) {\n      setIsFormComplete(true);\n    } else {\n      setIsFormComplete(false);\n    }\n  }, [formData]);\n\n  const handleLoginSubmit = () => {\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(formData.email, formData.password)\n      .then((userCredential) => {\n        // Signed in\n        const user = userCredential.user;\n        const dbRef = firebase.database().ref();\n        dbRef\n          .child(\"users\")\n          .child(user.uid)\n          .get()\n          .then((snapshot) => {\n            if (snapshot.exists()) {\n              appContext.setUser(snapshot.val());\n              setRedirect(\"/\");\n            } else {\n              console.log(\"No data available\");\n            }\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n        // ...\n      })\n      .catch((error) => {\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        console.log(errorCode, errorMessage);\n      });\n\n    appContext.setUserInputFilled(false);\n    let path = \"/\";\n    history.push(path);\n  };\n\n  return (\n    <div className=\"profile-wrapper\">\n      <div className=\"profile-left\"></div>\n      <div className=\"profile-container\">\n        <div className=\"profile-title\">Log in</div>\n        <div className=\"profile-subtitle\">Email</div>\n        <div>\n          <input\n            className=\"profile-input\"\n            type=\"text\"\n            name={`email`}\n            onChange={handleChangeUserLogin}\n          />\n        </div>\n        <div className=\"profile-subtitle\">Password</div>\n        <div>\n          <input\n            className=\"profile-input\"\n            type=\"password\"\n            name={`password`}\n            onChange={handleChangePassLogin}\n          />\n        </div>\n        <div className=\"profile-button-cotainer\">\n          <button\n            disabled={!isFormComplete}\n            className={`submit-button-${!isFormComplete}`}\n            onClick={handleLoginSubmit}\n          >\n            Log in\n          </button>\n        </div>\n      </div>\n      <div className=\"profile-right\"></div>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}