{"ast":null,"code":"const logger = require('debug')('jwks');\n\nconst memoizer = require('lru-memoizer');\n\nconst {\n  promisify,\n  callbackify\n} = require('util');\n\nfunction cacheWrapper(client, {\n  cacheMaxEntries = 5,\n  cacheMaxAge = 600000\n}) {\n  logger(`Configured caching of signing keys. Max: ${cacheMaxEntries} / Age: ${cacheMaxAge}`);\n  return promisify(memoizer({\n    hash: kid => kid,\n    load: callbackify(client.getSigningKey.bind(client)),\n    maxAge: cacheMaxAge,\n    max: cacheMaxEntries\n  }));\n}\n\nmodule.exports.default = cacheWrapper;","map":{"version":3,"sources":["/Users/javiercosio/Documents/ITC/tweet-react-project/node_modules/jwks-rsa/src/wrappers/cache.js"],"names":["logger","require","memoizer","promisify","callbackify","cacheWrapper","client","cacheMaxEntries","cacheMaxAge","hash","kid","load","getSigningKey","bind","maxAge","max","module","exports","default"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,OAAD,CAAP,CAAiB,MAAjB,CAAf;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,cAAD,CAAxB;;AACA,MAAM;AAAEE,EAAAA,SAAF;AAAaC,EAAAA;AAAb,IAA6BH,OAAO,CAAC,MAAD,CAA1C;;AAEA,SAASI,YAAT,CAAsBC,MAAtB,EAA8B;AAAEC,EAAAA,eAAe,GAAG,CAApB;AAAuBC,EAAAA,WAAW,GAAG;AAArC,CAA9B,EAA6E;AAC3ER,EAAAA,MAAM,CAAE,4CAA2CO,eAAgB,WAAUC,WAAY,EAAnF,CAAN;AACA,SAAOL,SAAS,CAACD,QAAQ,CAAC;AACxBO,IAAAA,IAAI,EAAGC,GAAD,IAASA,GADS;AAExBC,IAAAA,IAAI,EAAEP,WAAW,CAACE,MAAM,CAACM,aAAP,CAAqBC,IAArB,CAA0BP,MAA1B,CAAD,CAFO;AAGxBQ,IAAAA,MAAM,EAAEN,WAHgB;AAIxBO,IAAAA,GAAG,EAAER;AAJmB,GAAD,CAAT,CAAhB;AAMD;;AAEDS,MAAM,CAACC,OAAP,CAAeC,OAAf,GAAyBb,YAAzB","sourcesContent":["const logger = require('debug')('jwks');\nconst memoizer = require('lru-memoizer');\nconst { promisify, callbackify } = require('util');\n\nfunction cacheWrapper(client, { cacheMaxEntries = 5, cacheMaxAge = 600000 }) {\n  logger(`Configured caching of signing keys. Max: ${cacheMaxEntries} / Age: ${cacheMaxAge}`);\n  return promisify(memoizer({\n    hash: (kid) => kid,\n    load: callbackify(client.getSigningKey.bind(client)),\n    maxAge: cacheMaxAge,\n    max: cacheMaxEntries\n  }));\n}\n\nmodule.exports.default = cacheWrapper;\n"]},"metadata":{},"sourceType":"script"}